{
  "type": "node",
  "attributes": {
    "_level": 1,
    "id": "app",
    "_tags": [
      "App",
      "ECSApp",
      "Stack",
      "Shape"
    ],
    "_type": "ecs_app",
    "_title": "ECS App",
    "_name": "ecs-app",
    "_id": "app"
  },
  "children": [
    {
      "type": "node",
      "attributes": {
        "_level": 2,
        "_tags": [
          "Client",
          "Shape"
        ],
        "_type": "client",
        "_title": "Client",
        "_name": "client",
        "_id": "client",
        "_dependsOn": [
          "aws_lb_loadbalancer"
        ]
      },
      "children": [
        {
          "type": "node",
          "attributes": {
            "_level": 3,
            "_source": "client",
            "_target": "aws_lb_loadbalancer",
            "_isDependency": true,
            "_tags": [
              "Dependency"
            ],
            "_type": "dependency",
            "_title": "Dependency",
            "_name": "dependency",
            "_id": "dependency"
          },
          "children": []
        }
      ]
    },
    {
      "type": "node",
      "attributes": {
        "_level": 2,
        "_title": "Cloud",
        "_type": "aws_cloud",
        "_stage": "*",
        "_tags": [
          "AwsCloud",
          "GroupAwsCloudAlt",
          "Shape"
        ],
        "_name": "cloud",
        "_id": "aws_cloud_cloud"
      },
      "children": [
        {
          "type": "node",
          "attributes": {
            "_level": 3,
            "_title": "Region",
            "_type": "aws_region",
            "_stage": "*",
            "_tags": [
              "AwsRegion",
              "GroupRegion",
              "Shape"
            ],
            "_name": "region",
            "_id": "aws_region_region"
          },
          "children": [
            {
              "type": "node",
              "attributes": {
                "_level": 4,
                "_title": "Vpc",
                "_type": "aws_vpc",
                "id": "vpcid1",
                "_tags": [
                  "DataAwsVpc",
                  "AwsVpc",
                  "GroupVpc2",
                  "Shape"
                ],
                "_name": "vpc",
                "_id": "vpcid1"
              },
              "children": [
                {
                  "type": "node",
                  "attributes": {
                    "_level": 5,
                    "_title": "Public Subnet",
                    "_type": "aws_subnet",
                    "_tags": [
                      "AwsPublicSubnet",
                      "AwsSubnet",
                      "GroupSecurityGroup",
                      "Shape"
                    ],
                    "_name": "public-subnet",
                    "_id": "aws_subnet_publicsubnet"
                  },
                  "children": [
                    {
                      "type": "node",
                      "attributes": {
                        "_level": 6,
                        "_title": "Load Balancer",
                        "_type": "aws_lb",
                        "_tags": [
                          "LoadBalancer",
                          "AwsLb",
                          "ApplicationLoadBalancer",
                          "Shape"
                        ],
                        "_name": "load-balancer",
                        "_id": "aws_lb_loadbalancer",
                        "_dependsOn": [
                          "aws_waf_waf",
                          "aws_ecs_container_web"
                        ],
                        "_dependsBy": [
                          "client"
                        ]
                      },
                      "children": [
                        {
                          "type": "node",
                          "attributes": {
                            "_level": 7,
                            "_source": "aws_lb_loadbalancer",
                            "_target": "aws_waf_waf",
                            "_isDependency": true,
                            "_tags": [
                              "Dependency"
                            ],
                            "_type": "dependency",
                            "_title": "Dependency",
                            "_name": "dependency",
                            "_id": "dependency_2"
                          },
                          "children": []
                        },
                        {
                          "type": "node",
                          "attributes": {
                            "_level": 7,
                            "_source": "aws_lb_loadbalancer",
                            "_target": "aws_ecs_container_web",
                            "_isDependency": true,
                            "_tags": [
                              "Dependency"
                            ],
                            "_type": "dependency",
                            "_title": "Dependency",
                            "_name": "dependency",
                            "_id": "dependency_3"
                          },
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "node",
                      "attributes": {
                        "_level": 6,
                        "_title": "WAF",
                        "_type": "aws_waf",
                        "_tags": [
                          "AwsWAF",
                          "Waf",
                          "Shape"
                        ],
                        "_name": "waf",
                        "_id": "aws_waf_waf",
                        "_dependsBy": [
                          "aws_lb_loadbalancer"
                        ]
                      },
                      "children": []
                    }
                  ]
                },
                {
                  "type": "node",
                  "attributes": {
                    "_level": 5,
                    "_title": "Private Subnet",
                    "_type": "aws_subnet",
                    "_tags": [
                      "AwsPrivateSubnet",
                      "AwsSubnet",
                      "GroupSecurityGroup",
                      "Shape"
                    ],
                    "_name": "private-subnet",
                    "_id": "aws_subnet_privatesubnet"
                  },
                  "children": [
                    {
                      "type": "node",
                      "attributes": {
                        "_level": 6,
                        "_title": "ECS Cluster",
                        "_type": "aws_ecs_cluster",
                        "_tags": [
                          "AwsECSCluster",
                          "Shape"
                        ],
                        "_name": "ecs-cluster",
                        "_id": "aws_ecs_cluster_ecscluster",
                        "_dependsOn": [
                          "aws_db_instance_postgres",
                          "aws_elasticache_cluster_redis"
                        ]
                      },
                      "children": [
                        {
                          "type": "node",
                          "attributes": {
                            "_level": 7,
                            "_title": "ECS Service",
                            "_type": "aws_ecs_service",
                            "_tags": [
                              "AwsECSService",
                              "GroupEc2InstanceContents",
                              "Shape"
                            ],
                            "_name": "ecs-service",
                            "_id": "aws_ecs_service_ecsservice"
                          },
                          "children": [
                            {
                              "type": "node",
                              "attributes": {
                                "_level": 8,
                                "_title": "web",
                                "_type": "aws_ecs_container",
                                "title": "web",
                                "_tags": [
                                  "AwsECSContainer",
                                  "Android",
                                  "Shape"
                                ],
                                "_name": "web",
                                "_id": "aws_ecs_container_web",
                                "_dependsBy": [
                                  "aws_lb_loadbalancer"
                                ]
                              },
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "node",
                          "attributes": {
                            "_level": 7,
                            "_title": "ECS Service",
                            "_type": "aws_ecs_service",
                            "_tags": [
                              "AwsECSService",
                              "GroupEc2InstanceContents",
                              "Shape"
                            ],
                            "_name": "ecs-service",
                            "_id": "aws_ecs_service_2"
                          },
                          "children": [
                            {
                              "type": "node",
                              "attributes": {
                                "_level": 8,
                                "_title": "job",
                                "_type": "aws_ecs_container",
                                "title": "job",
                                "_tags": [
                                  "AwsECSContainer",
                                  "Android",
                                  "Shape"
                                ],
                                "_name": "job",
                                "_id": "aws_ecs_container_job"
                              },
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "node",
                          "attributes": {
                            "_level": 7,
                            "_title": "ECS Service",
                            "_type": "aws_ecs_service",
                            "_tags": [
                              "AwsECSService",
                              "GroupEc2InstanceContents",
                              "Shape"
                            ],
                            "_name": "ecs-service",
                            "_id": "aws_ecs_service_3"
                          },
                          "children": [
                            {
                              "type": "node",
                              "attributes": {
                                "_level": 8,
                                "_title": "migration",
                                "_type": "aws_ecs_container",
                                "title": "migration",
                                "_tags": [
                                  "AwsECSContainer",
                                  "Android",
                                  "Shape"
                                ],
                                "_name": "migration",
                                "_id": "aws_ecs_container_migration"
                              },
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "node",
                          "attributes": {
                            "_level": 7,
                            "_source": "aws_ecs_cluster_ecscluster",
                            "_target": "aws_db_instance_postgres",
                            "_isDependency": true,
                            "_tags": [
                              "Dependency"
                            ],
                            "_type": "dependency",
                            "_title": "Dependency",
                            "_name": "dependency",
                            "_id": "dependency_4"
                          },
                          "children": []
                        },
                        {
                          "type": "node",
                          "attributes": {
                            "_level": 7,
                            "_source": "aws_ecs_cluster_ecscluster",
                            "_target": "aws_elasticache_cluster_redis",
                            "_isDependency": true,
                            "_tags": [
                              "Dependency"
                            ],
                            "_type": "dependency",
                            "_title": "Dependency",
                            "_name": "dependency",
                            "_id": "dependency_5"
                          },
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "node",
                      "attributes": {
                        "_level": 6,
                        "_tags": [
                          "StorageLayer",
                          "Shape"
                        ],
                        "_type": "storage_layer",
                        "_title": "Storage Layer",
                        "_name": "storage-layer",
                        "_id": "storage_layer_storagelayer"
                      },
                      "children": [
                        {
                          "type": "node",
                          "attributes": {
                            "_level": 7,
                            "_title": "Postgres",
                            "_type": "aws_db_instance",
                            "_tags": [
                              "AwsPostgres",
                              "AwsDbInstance",
                              "RdsInstance",
                              "Shape"
                            ],
                            "_name": "postgres",
                            "_id": "aws_db_instance_postgres",
                            "_dependsBy": [
                              "aws_ecs_cluster_ecscluster"
                            ]
                          },
                          "children": []
                        },
                        {
                          "type": "node",
                          "attributes": {
                            "_level": 7,
                            "_title": "Redis",
                            "_type": "aws_elasticache_cluster",
                            "_tags": [
                              "Redis",
                              "AwsElasticacheCluster",
                              "ElasticacheForRedis",
                              "Shape"
                            ],
                            "_name": "redis",
                            "_id": "aws_elasticache_cluster_redis",
                            "_dependsBy": [
                              "aws_ecs_cluster_ecscluster"
                            ]
                          },
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
